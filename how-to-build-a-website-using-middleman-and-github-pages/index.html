<!DOCTYPE html><html lang='en'><head><meta charset="utf-8"/><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport"/><meta name="description" content="Adrian Ching is the co-founder of Upstack Studio. He makes products that solve problems. Sometimes he helps companies build amazing apps."/><meta name="author" content="Adrian Ching"/><meta name="robots" content="index, follow"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@adrianchinghc"/><meta name="twitter:title" content="How to Build A Website Using Middleman and Github Pages - Adrian Ching"/><meta name="twitter:description" content="Adrian Ching is the co-founder of Upstack Studio. He makes products that solve problems. Sometimes he helps companies build amazing apps."/><meta name="twitter:creator" content="@adrianchinghc"/><meta name="twitter:image:src" content="/assets/images/posts/middlemanapp.svg"/><meta itemprop="name" content="How to Build A Website Using Middleman and Github Pages - Adrian Ching"/><meta itemprop="description" content="Adrian Ching is the co-founder of Upstack Studio. He makes products that solve problems. Sometimes he helps companies build amazing apps."/><meta itemprop="image" content="/assets/images/posts/middlemanapp.svg"/><meta property="og:url" content="https://adrianching.com/how-to-build-a-website-using-middleman-and-github-pages/"/><meta property="og:title" content="How to Build A Website Using Middleman and Github Pages - Adrian Ching"/><meta property="og:description" content="Adrian Ching is the co-founder of Upstack Studio. He makes products that solve problems. Sometimes he helps companies build amazing apps."/><meta property="og:image" content="/assets/images/posts/middlemanapp.svg"/><title>How to Build A Website Using Middleman and Github Pages - Adrian Ching</title><link href="/assets/images/logo.png" rel="icon" type="image/png"/><link href="/assets/images/logo.png" rel="apple-touch-icon" type="image/png"/><link rel="apple-touch-icon" href="/assets/images/favicon.png"/><link href="/assets/stylesheets/site.css" rel="stylesheet"/><script src="/assets/javascripts/bundle.js" async="true"></script></head><body class='how-to-build-a-website-using-middleman-and-github-pages how-to-build-a-website-using-middleman-and-github-pages_index'><nav class='navbar'><div class='container'><div class='navbar-header'><button aria-expanded='false' class='navbar-toggle collapsed' data-target='#navigation' data-toggle='collapse' type='button'><span class='sr-only'>Toggle navigation</span><span class='icon-bar'></span><span class='icon-bar'></span><span class='icon-bar'></span></button><a href="/" class="navbar-brand"><img src="/assets/images/logo.png" width="94" height="94" alt="Logo"/></a></div><div class='collapse navbar-collapse' id='navigation'><ul class='nav navbar-nav navbar-right'><li><a href="/work">Work</a></li><li><a href="/ventures">Ventures</a></li><li><a href="/blog">Writing</a></li><li><a href="/about">About</a></li><li><a href="mailto:adrian@upstackstudio.com?cc=contact@upstackstudio.com">Contact</a></li></ul></div></div></nav><div class='container text-left blogpost'><img src="/assets/images/posts/middlemanapp.svg" alt="How to Build A Website Using Middleman and Github Pages" class="img-responsive" width="1070" height="563"/><div class='container'><h1 class='text-center'>How to Build A Website Using Middleman and Github Pages</h1><div class='text-center text-uppercase date-comment'><span>Last Updated On Dec 4 2016</span> | <span class='comments'><a href="/how-to-build-a-website-using-middleman-and-github-pages/#disqus_thread" class="comments">" | Comments" </a></span></div><p>Website is an essential part of our digital lifestyle. Freelancers need website to showcase themselves, businesses need website to market their products and you need a website to maintain your online presence.</p><p>There are multiple ways of creating a website with the advancement of technology nowadays but I will be showing you how to build a <a href="https://en.wikipedia.org/wiki/Static_web_page">static site</a> particularly and the best part is, you get to host it for FREE!</p><h2>Why Static Site?</h2><p>You might be wondering, why static site? One reason, because it&rsquo;s blazing fast!</p><p>A static site doesn&rsquo;t have any dynamic contents as it consists mainly of HTML and CSS files. No fancy database is needed like <a href="https://wordpress.org/">Wordpress</a> which reduces the server response time, making your website load extremely fast.</p><p>It is also easy to cache using CDNs such as <a href="https://www.cloudflare.com/">Cloudflare</a>.</p><p>Static site is a perfect choice for personal websites, blogs, and landing pages as these sites do not require any contents to be generated on the fly.</p><h2>Prerequisites</h2><p>As this is a pretty technical blog post, you will need some experience in using terminal, code editor and code sharing site such as <a href="https://github.com">Github</a></p><p class="post-alert"> You can <a href="https://www.upwork.com/o/profiles/users/_~01c2b79130514bdaad/" target="blank" rel="noopener noreferrer">invite me to your job</a> on Upwork if you need a website. </p><p>Middleman is a static page generator built using <a href="https://www.ruby-lang.org/en/">Ruby</a> so you will need to install Ruby on your machine along with <a href="http://bundler.io/">Bundler</a> (<a href="https://rubygems.org/">RubyGems</a> Management Tool).</p><p>If you don&rsquo;t have Ruby installed yet, follow the tutorial <a href="https://www.ruby-lang.org/en/documentation/installation/">here</a> to get Ruby up and running on your machine.</p><p>Once that is done, install Bundler using the following command:</p><div class="highlight"><pre class="highlight shell"><code><span class="nv">$ </span>gem install bundler
</code></pre></div><p>You are all set up. Let&rsquo;s get started!</p><h2>Middleman and Github Pages</h2><p>There are plenty of static pages generators out there, but why Middleman?</p><p>Simply because I&rsquo;m from the world of <a href="http://rubyonrails.org/">Ruby on Rails</a> and Middleman is very similar to Rails.</p><p>It uses ERB as the default templating language and helpers that are very similar to Rails such as <code>link_to</code>. You can even define your own helper if needed.</p><p>As for <a href="https://pages.github.com/">Github Pages</a>, who doesn&rsquo;t like FREE stuffs?</p><p>Github provides free hosting of your static website and all you have to do is to push your code to a Github Repository.</p><p>Why pay for hosting when you can get a website up and running with just one command?</p><p>Last but not least, Github Pages even allows you to have a custom domain mapped to your website so you don&rsquo;t need to use <code>username.github.io</code> which is the default url for your github pages powered static website.</p><h2>Set Up Middleman</h2><p>Enough for all the introductions to Middleman App and Github Pages.</p><p>Let&rsquo;s get to code, shall we?</p><h3>Install Middleman</h3><p>First, open up your terminal and enter the following command:</p><div class="highlight"><pre class="highlight shell"><code>gem install middleman
</code></pre></div><p>If you are denied permission to install Middleman, add <code>sudo</code> in front of the command above so that you can install Middleman with the right permission.</p><p>Once the install process is done, check if Middleman is install correctly using:</p><div class="highlight"><pre class="highlight shell"><code>middleman version
</code></pre></div><p>You should see something like <code>Middleman 3.4.1</code> in the terminal. Version number will depend on the version of Middleman you&rsquo;ve installed.</p><p>If you want to create a blog along side with your website, then do this so that the extension for blogging in Middleman is installed:</p><div class="highlight"><pre class="highlight shell"><code>gem install middleman-blog
</code></pre></div><p>Once you have Middleman installed, navigate to the folder where you want to store your Middleman project.</p><h3>Create Project</h3><p>To create a new Middleman project, use the command:</p><div class="highlight"><pre class="highlight shell"><code>middleman init my_new_site
</code></pre></div><p>or</p><div class="highlight"><pre class="highlight shell"><code>middleman init my_new_site <span class="nt">--template</span><span class="o">=</span>blog
</code></pre></div><p>if you are creating a blog.</p><p>You can rename <code>my_new_site</code> to any name you want as that will be your project name for this Middleman project.</p><p>Once the project is created, navigate to the folder <code>my_new_site</code> and check out the folder structure.</p><div class="highlight"><pre class="highlight plaintext"><code>── my_new_site
   ├── Gemfile
   ├── Gemfile.lock
   ├── config.rb
   └── source
       ├── 2016-12-06-example-article.html.markdown
       ├── calendar.html.erb
       ├── feed.xml.builder
       ├── images
       ├── index.html.erb
       ├── javascripts
       ├── layout.erb
       ├── stylesheets
       └── tag.html.erb
</code></pre></div><p><code>Gemfile</code> is where you list down all the gems that you want to install in this Middleman project.</p><p><code>Gemfile.lock</code> is the file where Middleman retrieve all the dependencies of the gems that you&rsquo;ve installed. You will not need to make changes to this file as this is automated by Bundler.</p><p><code>config.rb</code> is the file to store all the Middleman configurations. This is where you customize the behavior of Middleman according to your needs.</p><p><code>source</code> is the folder that keeps all your html/css/assets/articles that will be compiled into a static website.</p><h3>Start Middleman Server</h3><p>Middleman comes with a local server for testing purposes.</p><p>Once the project is created, start the Middleman server.</p><div class="highlight"><pre class="highlight shell"><code>bundle <span class="nb">exec </span>middleman server
</code></pre></div><p>You can now view your Middleman site by visiting <code>http://localhost:4567</code></p><p><img src="/assets/images/posts/middleman-server.png" alt="Middleman Server" width="2558" height="1364"/></p><p>If you want to shut down your Middleman Server, just press <code>CTRL</code> + <code>C</code> on your keyboard.</p><p>The Middleman Server can be left open when you are editing your site. You will only need to restart the server after you add a new gem or edited the configuration of Middleman.</p><p>Tips:</p><blockquote><p>Use <code>EXECJS_RUNTIME=Node bundle exec middleman server</code> to start your server if it always hangs after some time. This command uses NodeJS to run the Middleman Server. Refer to this <a href="https://github.com/middleman/middleman/issues/1367">issue</a> for more details.</p></blockquote><h3>Middleman Extensions</h3><p>Middleman has something called extensions that allows you to build more cool stuffs using extra features that these extensions provide you with.</p><p>Since these extensions are bundled as a Gem, you can just include them in your Gemfile, run <code>bundle install</code> and voila!</p><p>You just installed an extensions successfully.</p><p>Here are some of the extensions that I&rsquo;m using for my Middleman site which is the one that you are on currently:</p><p><code>middleman-blog</code></p><p><code>middleman-livereload</code></p><p><code>middleman-minify-html</code></p><p><code>middleman-imageoptim</code></p><p><code>middleman-deploy</code></p><p><code>middleman-disqus</code></p><p><code>middleman-smusher</code></p><p><code>middleman-syntax</code></p><p><code>middleman-robots</code></p><p>You can look for more extensions <a href="https://directory.middlemanapp.com/#/extensions/all">here</a> to add functionality to your middleman site.</p><h3>Middleman Templates</h3><p>Templates can help with speeding up development time, hence it is worth a mention here.</p><p>There are tons of templates available <a href="https://directory.middlemanapp.com/#/templates/all">here</a> for you to choose. You can choose templates with your favorite front-end framework, package manager or templating language.</p><p>I started mine with an SEO optimized template like this one <a href="https://github.com/secretsaucehq/middleman-seo">here</a>.</p><h3>Asset Folders</h3><p>As for asset files, you are free to place them according to your preference.</p><p>Just make sure you declare the path to these assets accordingly in the <code>config.rb</code> as shown below:</p><div class="highlight"><pre class="highlight ruby"><code><span class="n">set</span> <span class="ss">:css_dir</span><span class="p">,</span> <span class="s1">'assets/stylesheets'</span>
<span class="n">set</span> <span class="ss">:js_dir</span><span class="p">,</span> <span class="s1">'assets/javascripts'</span>
<span class="n">set</span> <span class="ss">:images_dir</span><span class="p">,</span> <span class="s1">'assets/images'</span>
</code></pre></div><h3>Create an Article</h3><p>If you are planning to blog on your site, you can do that easily with the <a href="https://github.com/middleman/middleman-blog">middleman-blog</a> gem.</p><p>Once you&rsquo;ve installed this blog engine for middleman, all you need to do is to:</p><div class="highlight"><pre class="highlight shell"><code>bundle <span class="nb">exec </span>middleman article <span class="s2">"Title of Blogpost"</span>
</code></pre></div><p>Then, a markdown file will be created in the <code>posts</code> folder of your middleman app.</p><p>From there, you can write your post in <a href="https://guides.github.com/features/mastering-markdown/">markdown format</a> and <code>middleman-blog</code> will take care of all the other things for you.</p><h3>Github Flavored Markdown</h3><p>Kramdown is the default Markdown engine in Middleman hence it does not fully support Github Flavored Markdown which was replaced <code>redcarpet</code> in my own middleman site.</p><p>If you are interested in doing this as well, add this to your <code>Gemfile</code>:</p><div class="highlight"><pre class="highlight ruby"><code><span class="n">gem</span> <span class="s1">'redcarpet'</span>
</code></pre></div><p>Run <code>bundle install</code>.</p><p>Then enable <code>Redcarpet</code> and <code>fenced code blocks</code> in your <code>config.rb</code>:</p><div class="highlight"><pre class="highlight ruby"><code><span class="n">set</span> <span class="ss">:markdown_engine</span><span class="p">,</span> <span class="ss">:redcarpet</span>
<span class="n">set</span> <span class="ss">:markdown</span><span class="p">,</span> <span class="ss">fenced_code_blocks: </span><span class="kp">true</span>
</code></pre></div><p>last but not least, activate syntax highlighting in your <code>config.rb</code>this way:</p><div class="highlight"><pre class="highlight ruby"><code><span class="n">activate</span> <span class="ss">:syntax</span>
</code></pre></div><h3>Partials and Template helpers</h3><p>Partials allow us to share content across multiple pages by only defining them once. Middleman provides this helpers method as well.</p><p>All you need to do is to save the partial file starting with an underscore - <code>_navbar.html.haml</code>, then call the partial using the <code>partial</code> tag</p><div class="highlight"><pre class="highlight ruby"><code><span class="o">=</span> <span class="n">partial</span> <span class="s2">"sidebar"</span>
</code></pre></div><p>Middleman also provides multiple template helpers such as <code>link_to</code> and <code>image_tag</code>. You can read more about them <a href="https://middlemanapp.com/basics/helper_methods/">here</a>.</p><h3>Deployment Settings</h3><p>There are multiple ways of deploying a middleman site. My favorite has got to be using <code>:git</code> and hosting it using <a href="https://pages.github.com/">Github Pages</a>.</p><p>Make sure you have the <code>middleman-deploy</code> gem installed. Then add these configurations to your <code>config.rb</code>:</p><div class="highlight"><pre class="highlight ruby"><code><span class="n">activate</span> <span class="ss">:deploy</span> <span class="k">do</span> <span class="o">|</span><span class="n">deploy</span><span class="o">|</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">method</span> <span class="o">=</span> <span class="ss">:git</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">branch</span> <span class="o">=</span> <span class="s1">'master'</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">build_before</span> <span class="o">=</span> <span class="kp">true</span>
<span class="k">end</span>
</code></pre></div><h2>Set Up Github Pages</h2><h3>Set Up Git Repository</h3><p>Before setting up Github, let&rsquo;s initialize a new repository in our project:</p><div class="highlight"><pre class="highlight shell"><code>git init
</code></pre></div><p>When you deploy your Middleman site, the statically generated files will be on the <code>master</code> branch. Hence you should not be making changes to the <code>master</code> branch. Instead, we create a branch called <code>source</code> and store our middleman project on this branch.</p><div class="highlight"><pre class="highlight shell"><code>git checkout <span class="nt">-b</span> <span class="nb">source
</span>git add <span class="nb">.</span>
git commit <span class="nt">-am</span> <span class="s1">'Initial Commit'</span>
git push <span class="nt">--set-upstream</span> origin <span class="nb">source</span>
</code></pre></div><h3>Set Up Github Repository</h3><p>Now, all you need to do is set up Github Pages from your Github account.</p><p>Create a repository called <code>username.github.io</code>. Username being your Github username. For example, my Github username is <code>adrianchinghc</code>. Hence the repository for my Github Pages will be <code>adrianchinghc.github.io</code>.</p><p><img src="/assets/images/posts/github-pages-repo.png" alt="Github Repository" width="1288" height="306"/></p><p>After creating the repository, follow the instructions on Github to add the remote repository to your Middleman project.</p><div class="highlight"><pre class="highlight shell"><code>git remote add origin https://github.com/username/username.github.io.git
</code></pre></div><p>Note that we will not be doing <code>git push -u origin master</code> as that will be automated by <code>middleman-deploy</code>.</p><p>Now, to deploy your Middleman site, use the <code>bundle exec middleman deploy</code> command.</p><p>Give it a few moments after deploying and soon you will see your site being deployed to <code>http://username.github.io</code>!</p><h3>Custom Domain Name</h3><p>For those who are interested to use a custom domain, you can do so with Github Pages as well.</p><p>First go to your GitHub Pages site&rsquo;s repository.</p><p>Under your repository name, click on the Settings tab.</p><p>Under &ldquo;Custom domain&rdquo;, add your custom domain and click Save.</p><p>Then you will need to set up your custom domain with your DNS provider.</p><p>Depending on whether you want to set this up using an apex domain/subdomain, the configuration can be different.</p><p>I did mine using an apex domain which was really easy to set up. All I did was go to my DNS provider and add two <code>A</code> records that points my domain to the following IP addresses:</p><div class="highlight"><pre class="highlight plaintext"><code>192.30.252.153
192.30.252.154
</code></pre></div><p>If you need more informations about setting up custom domain, here&rsquo;s an <a href="https://help.github.com/articles/quick-start-setting-up-a-custom-domain/">article from Github</a> explaining more about it.</p><h2>Success!</h2><p>Now you have a website generated using Middleman and hosted on Github Pages for FREE!</p><p>I don&rsquo;t know about you but I love this because it helps me save a ton of moola.</p><p>Now go forth and create!</p><p>Thanks for reading all the way here. I know it&rsquo;s a long article so I appreciate it. Let me know what you think in the comments section below!</p></div><div id='disqus_thread'></div><script>
//<![CDATA[
                  var disqus_shortname = 'adrianching';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript><a href='http://disqus.com' class='dsq-brlink'>comments powered by <span class='logo-disqus'>Disqus</span></a><script>
//<![CDATA[
    var disqus_shortname = 'adrianching';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script></div><div class='container-fluid newsletter'><div class='row'><div class='col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1'><h3 class='text-center'>Peek over my shoulder as I share everything on my journey to $1,000,000 in monthly revenue.</h3></div></div><div id='mc_embed_signup'><form action='//adrianching.us12.list-manage.com/subscribe/post?u=a818b467193d9315e8f002c75&amp;id=bef9b73d36' class='validate' id='mc-embedded-subscribe-form' method='post' name='mc-embedded-subscribe-form' novalidate='' target='_blank'><div id='mc_embed_signup_scroll'><div class='row'><div class='mc-field-group col-xs-12 col-sm-4 col-md-4 col-md-offset-1'><label class='sr-only' for='mce-FNAME'>First Name</label><input class='form-control' id='mce-FNAME' name='FNAME' placeholder='First Name' value=''></div><div class='mc-field-group col-xs-12 col-sm-4 col-md-4'><label class='sr-only' for='mce-EMAIL'>Email Address</label><input class='form-control required email' id='mce-EMAIL' name='EMAIL' placeholder='Email' type='email' value=''></div><div class='col-xs-12 col-sm-4 col-md-2'><input class='col-xs-12 col-sm-12 col-md-12 btn btn-white button' id='mc-embedded-subscribe' name='subscribe' type='submit' value='Subscribe'></div></div><div class='clear' id='mce-responses'><div class='response alert alert-danger alert-dismissible col-md-8 col-md-offset-2' id='mce-error-response' style='display:none'></div><div class='response alert alert-success alert-dismissible col-md-8 col-md-offset-2' id='mce-success-response' style='display:none'></div></div><div aria-hidden='true' style='position: absolute; left: -5000px;'><input name='b_a818b467193d9315e8f002c75_bef9b73d36' tabindex='-1' value=''></div></div></form></div><script src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script>
  (function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';}(jQuery));var $mcj = jQuery.noConflict(true);
</script></div><footer class='footer'><div class='container hidden-xs'><div class='row'><div class='col-sm-3 vertical-menu'><a href="/"><img src="/assets/images/logo.png" width="94" height="94" alt="Logo"/></a><p class='intro'>I'm Adrian Ching, I'm a software engineer. I make digital products.</p></div><div class='col-sm-3 vertical-menu'><h5>Work</h5><a href="https://mycarpit.com" target="_blank">Carpit</a><a href="https://www.foooqy.com" target="_blank">Foooqy</a></div><div class='col-sm-3 vertical-menu'><h5>Ventures</h5><a href="https://upstackstudio.com" target="_blank">Upstack Studio</a></div><div class='col-sm-3 vertical-menu'><h5>Connect</h5><a href="/blog">Blog</a><a href="https://twitter.com/adrianchinghc" target="_blank">Twitter</a><a href="https://github.com/adrianchinghc" target="_blank">Github</a></div></div></div><div class='container visible-xs'><div class='row'><div class='col-xs-3'><a href="/"><img src="/assets/images/logo.png" width="94" height="94" alt="Logo"/></a></div><div class='col-xs-9 text-left'><p class='intro'>I'm Adrian Ching, I'm a software engineer. I make digital products.</p></div></div><div class='row'><div class='col-xs-6 vertical-menu'><h5>Work</h5><a href="https://mycarpit.com" target="_blank">Carpit</a><a href="https://www.foooqy.com" target="_blank">Foooqy</a></div><div class='col-xs-6'><div class='vertical-menu'><h5>Ventures</h5><a href="https://upstackstudio.com" target="_blank">Upstack Studio</a></div><div class='vertical-menu'><h5>Connect</h5><a href="/blog">Blog</a><a href="https://twitter.com/adrianchinghc" target="_blank">Twitter</a><a href="https://github.com/adrianchinghc" target="_blank">Github</a></div></div></div></div><div class='container copyright'><div class='row'><p>© 2017 Adrian Ching</p></div></div></footer></body></html>